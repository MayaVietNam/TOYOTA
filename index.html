<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ph·∫£n h·ªìi d·ªãch v·ª• WiFi - MAYA VIETNAM</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- SCRIPT C·ª¶A GOOGLE RECAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <style>
    .star-rating { display: flex; flex-direction: row-reverse; justify-content: center; gap: 0.25rem; }
    .star-rating input[type="radio"] { display: none; }
    .star-rating label { font-size: 2.5rem; color: #d1d5db; cursor: pointer; transition: color 0.2s; }
    .star-rating label:hover, .star-rating label:hover ~ label, .star-rating input[type="radio"]:checked ~ label { color: #f59e0b; }
    .lang-btn { transition: all 0.2s; }
    .lang-btn.active { background-color: #2563eb; color: white; font-weight: bold; }
    /* CƒÉn gi·ªØa h·ªôp reCAPTCHA */
    .g-recaptcha { display: flex; justify-content: center; }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <!-- B·ªò CHUY·ªÇN ƒê·ªîI NG√îN NG·ªÆ -->
  <div class="max-w-2xl mx-auto mt-4 text-right pr-4">
    <div class="inline-flex rounded-md shadow-sm" role="group">
      <button type="button" id="lang-vi" class="lang-btn px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700">VI</button>
      <button type="button" id="lang-en" class="lang-btn px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700">EN</button>
      <button type="button" id="lang-ja" class="lang-btn px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-r-md hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700">JA</button>
    </div>
  </div>

  <div class="max-w-2xl mx-auto mt-2 mb-8 p-6 sm:p-8 bg-white rounded-xl shadow-lg">
    <div class="text-center mb-6">
      <img src="https://i.postimg.cc/yd4v4YHG/EZ-LOGO-31.png" alt="Logo C√¥ng ty" class="h-20 mx-auto mb-3">
      <h2 class="text-2xl font-bold text-blue-600" data-lang-key="title">Kh·∫£o s√°t m·ª©c ƒë·ªô h√†i l√≤ng</h2>
      <p class="text-sm text-gray-500" data-lang-key="subtitle">C·∫£m ∆°n qu√Ω kh√°ch ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• cho thu√™ WiFi c·ªßa ch√∫ng t√¥i!</p>
    </div>

    <form id="feedbackForm" class="space-y-6">
      <!-- C√ÅC TR∆Ø·ªúNG NH·∫¨P LI·ªÜU -->
      <div>
        <label for="email" class="block font-medium text-gray-700" data-lang-key="email_label">Email c·ªßa b·∫°n</label>
        <input type="email" id="email" name="email" required class="w-full p-3 border border-gray-300 rounded-lg mt-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" data-lang-key="email_placeholder" placeholder="vidu@email.com">
      </div>
      
      <div>
        <label for="usage_area" class="block font-medium text-gray-700" data-lang-key="usage_area_label">Qu√Ω kh√°ch ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• t·∫°i qu·ªëc gia n√†o?</label>
        <input type="text" id="usage_area" name="usage_area" required class="w-full p-3 border border-gray-300 rounded-lg mt-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" data-lang-key="usage_area_placeholder" placeholder="V√≠ d·ª•: Nh·∫≠t B·∫£n, H√†n Qu·ªëc...">
      </div>

      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_wifi_quality">1. Ch·∫•t l∆∞·ª£ng WiFi nh∆∞ th·∫ø n√†o?</label>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 mt-2">
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="wifi_quality" value="R·∫•t t·ªët" required class="mr-2"><span data-lang-key="option_very_good">R·∫•t t·ªët</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="wifi_quality" value="T·ªët" class="mr-2"><span data-lang-key="option_good">T·ªët</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="wifi_quality" value="Trung b√¨nh" class="mr-2"><span data-lang-key="option_average">Trung b√¨nh</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="wifi_quality" value="K√©m" class="mr-2"><span data-lang-key="option_poor">K√©m</span></label>
        </div>
      </div>
      
      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_price">2. B·∫°n ƒë√°nh gi√° th·∫ø n√†o v·ªÅ gi√° s·∫£n ph·∫©m?</label>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 mt-2">
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="price_rating" value="R·∫•t h·ª£p l√Ω" required class="mr-2"><span data-lang-key="option_very_reasonable">R·∫•t h·ª£p l√Ω</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="price_rating" value="H·ª£p l√Ω" class="mr-2"><span data-lang-key="option_reasonable">H·ª£p l√Ω</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="price_rating" value="H∆°i cao" class="mr-2"><span data-lang-key="option_a_bit_high">H∆°i cao</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="price_rating" value="Cao" class="mr-2"><span data-lang-key="option_high">Cao</span></label>
        </div>
      </div>
      
      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_service_vs_price">3. Ch·∫•t l∆∞·ª£ng ph·ª•c v·ª• so v·ªõi gi√° c·∫£?</label>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 mt-2">
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="service_vs_price" value="V∆∞·ª£t mong ƒë·ª£i" required class="mr-2"><span data-lang-key="option_exceeds">V∆∞·ª£t mong ƒë·ª£i</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="service_vs_price" value="T∆∞∆°ng x·ª©ng" class="mr-2"><span data-lang-key="option_matches">T∆∞∆°ng x·ª©ng</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="service_vs_price" value="Ch∆∞a t∆∞∆°ng x·ª©ng" class="mr-2"><span data-lang-key="option_not_match">Ch∆∞a t∆∞∆°ng x·ª©ng</span></label>
        </div>
      </div>

      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_delivery">4. Nh·∫≠n/tr·∫£ thi·∫øt b·ªã c√≥ thu·∫≠n ti·ªán kh√¥ng?</label>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 mt-2">
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="delivery_process" value="R·∫•t thu·∫≠n ti·ªán" required class="mr-2"><span data-lang-key="option_very_convenient">R·∫•t thu·∫≠n ti·ªán</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="delivery_process" value="B√¨nh th∆∞·ªùng" class="mr-2"><span data-lang-key="option_normal">B√¨nh th∆∞·ªùng</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="delivery_process" value="Kh√≥ khƒÉn" class="mr-2"><span data-lang-key="option_difficult">Kh√≥ khƒÉn</span></label>
        </div>
      </div>

      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_tech_issue">5. Qu√Ω kh√°ch c√≥ g·∫∑p s·ª± c·ªë k·ªπ thu·∫≠t kh√¥ng?</label>
        <div class="flex space-x-4 mt-2">
          <label class="flex items-center cursor-pointer"><input type="radio" name="technical_issue" value="Kh√¥ng" required class="mr-2"><span data-lang-key="option_no">Kh√¥ng</span></label>
          <label class="flex items-center cursor-pointer"><input type="radio" name="technical_issue" value="C√≥" class="mr-2"><span data-lang-key="option_yes">C√≥</span></label>
        </div>
      </div>

      <div id="technicalIssuesDetails" class="hidden pl-6 border-l-2 border-blue-200 space-y-3">
        <label class="block font-medium text-gray-600 text-sm" data-lang-key="tech_issue_prompt">Vui l√≤ng cho bi·∫øt v·∫•n ƒë·ªÅ b·∫°n g·∫∑p ph·∫£i:</label>
        <div class="space-y-2">
            <label class="flex items-center cursor-pointer"><input type="checkbox" name="issue_detail" value="T·ªëc ƒë·ªô ch·∫≠m" class="mr-2"><span data-lang-key="issue_slow">T·ªëc ƒë·ªô ch·∫≠m</span></label>
            <label class="flex items-center cursor-pointer"><input type="checkbox" name="issue_detail" value="M·∫•t k·∫øt n·ªëi" class="mr-2"><span data-lang-key="issue_disconnect">M·∫•t k·∫øt n·ªëi th∆∞·ªùng xuy√™n</span></label>
            <label class="flex items-center cursor-pointer"><input type="checkbox" name="issue_detail" value="Kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c" class="mr-2"><span data-lang-key="issue_no_connect">Kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c ban ƒë·∫ßu</span></label>
            <label class="flex items-center cursor-pointer"><input type="checkbox" name="issue_detail" value="Thi·∫øt b·ªã kh√¥ng l√™n ngu·ªìn" class="mr-2"><span data-lang-key="issue_no_power">Thi·∫øt b·ªã kh√¥ng l√™n ngu·ªìn / S·∫°c kh√¥ng v√†o</span></label>
            <div>
              <label class="flex items-center cursor-pointer"><input type="checkbox" id="other_issue_checkbox" class="mr-2"><span data-lang-key="issue_other">Kh√°c (vui l√≤ng ghi r√µ):</span></label>
              <textarea name="issue_detail_other" rows="2" class="w-full p-2 border rounded-lg mt-1" data-lang-key="issue_other_placeholder" placeholder="M√¥ t·∫£ s·ª± c·ªë kh√°c..."></textarea>
            </div>
        </div>
      </div>

      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_recommend">6. Qu√Ω kh√°ch c√≥ gi·ªõi thi·ªáu d·ªãch v·ª• cho ng∆∞·ªùi kh√°c kh√¥ng?</label>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 mt-2">
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="recommend" value="Ch·∫Øc ch·∫Øn c√≥" required class="mr-2"><span data-lang-key="option_recommend_yes">Ch·∫Øc ch·∫Øn c√≥</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="recommend" value="C√≥ th·ªÉ" class="mr-2"><span data-lang-key="option_recommend_maybe">C√≥ th·ªÉ</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="recommend" value="Kh√¥ng" class="mr-2"><span data-lang-key="option_recommend_no">Kh√¥ng</span></label>
        </div>
      </div>

      <div>
        <label class="block font-medium text-gray-700 text-center mb-2" data-lang-key="q_overall_rating">7. ƒê√°nh gi√° chung v·ªÅ d·ªãch v·ª• c·ªßa ch√∫ng t√¥i:</label>
        <div class="star-rating">
          <input type="radio" id="star5" name="rating" value="5" required/><label for="star5" title="5 sao">‚òÖ</label>
          <input type="radio" id="star4" name="rating" value="4"/><label for="star4" title="4 sao">‚òÖ</label>
          <input type="radio" id="star3" name="rating" value="3"/><label for="star3" title="3 sao">‚òÖ</label>
          <input type="radio" id="star2" name="rating" value="2"/><label for="star2" title="2 sao">‚òÖ</label>
          <input type="radio" id="star1" name="rating" value="1"/><label for="star1" title="1 sao">‚òÖ</label>
        </div>
      </div>
      
      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_channel">8. Qu√Ω kh√°ch bi·∫øt ƒë·∫øn d·ªãch v·ª• c·ªßa ch√∫ng t√¥i qua k√™nh n√†o?</label>
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-2 mt-2">
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="channel" value="Facebook" required class="mr-2"><span data-lang-key="option_channel_facebook">Facebook</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="channel" value="Google" class="mr-2"><span data-lang-key="option_channel_google">Google</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="channel" value="B·∫°n b√® gi·ªõi thi·ªáu" class="mr-2"><span data-lang-key="option_channel_friends">B·∫°n b√® gi·ªõi thi·ªáu</span></label>
          <label class="flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer"><input type="radio" name="channel" value="Kh√°c" class="mr-2"><span data-lang-key="option_channel_other">Kh√°c</span></label>
        </div>
      </div>
      
      <div>
        <label class="block font-medium text-gray-700" data-lang-key="q_comment">9. G√≥p √Ω th√™m (n·∫øu c√≥):</label>
        <textarea name="comment" rows="4" class="w-full p-3 border rounded-lg mt-2" data-lang-key="comment_placeholder" placeholder="√ù ki·∫øn c·ªßa b·∫°n..."></textarea>
      </div>

      <!-- H·ªòP RECAPTCHA -->
      <div class="g-recaptcha" data-sitekey="YOUR_RECAPTCHA_SITE_KEY"></div>
      <!-- ^^^ THAY TH·∫æ YOUR_RECAPTCHA_SITE_KEY B·∫∞NG KH√ìA C·ª¶A B·∫†N -->

      <div class="text-center pt-4">
        <button type="submit" id="submitButton" class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold text-lg" data-lang-key="submit_button">
          G·ª≠i ph·∫£n h·ªìi
        </button>
      </div>

      <p id="status" class="text-center font-medium h-6"></p>
    </form>
  </div>

  <footer class="bg-white text-gray-600 text-sm mt-8 py-6">
    <div class="max-w-4xl mx-auto px-4">
        <div class="text-center mb-4">
            <h3 class="font-bold text-gray-800">C√îNG TY TNHH MAYA VI·ªÜT NAM</h3>
            <p class="text-xs text-gray-500">MAYA VIETNAM COMPANY LIMITED</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-center md:text-left">
            <div>
                <h4 class="font-semibold text-gray-700 mb-1" data-lang-key="footer_address">ƒê·ªãa ch·ªâ</h4>
                <p>Ph√≤ng 1630, t·∫ßng 16, t√≤a nh√† Daeha Business Center, 360 Kim M√£, P. Ng·ªçc Kh√°nh, Q. Ba ƒê√¨nh, H√† N·ªôi</p>
                <p class="text-xs text-gray-500">Room 1630, 16th floor, Daeha Business Center, 360 Kim Ma, Ngoc Khanh Ward, Ba Dinh Dist., Hanoi</p>
            </div>
            <div>
                <h4 class="font-semibold text-gray-700 mb-1" data-lang-key="footer_hotline">Hotline</h4>
                <p><i class="fas fa-phone-alt mr-2"></i>0962 000 650 (<span data-lang-key="lang_vi">Ti·∫øng Vi·ªát</span>)</p>
                <p><i class="fas fa-phone-alt mr-2"></i>0365 399 288 (<span data-lang-key="lang_ja">Ti·∫øng Nh·∫≠t</span>)</p>
            </div>
        </div>
    </div>
  </footer>

  <script>
    // --- DICTIONARY FOR LANGUAGES (No changes here) ---
    const translations = {
      vi: {
        title: "Kh·∫£o s√°t m·ª©c ƒë·ªô h√†i l√≤ng",
        subtitle: "C·∫£m ∆°n qu√Ω kh√°ch ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• cho thu√™ WiFi c·ªßa ch√∫ng t√¥i!",
        email_label: "Email c·ªßa b·∫°n",
        email_placeholder: "vidu@email.com",
        usage_area_label: "Qu√Ω kh√°ch ƒë√£ s·ª≠ d·ª•ng d·ªãch v·ª• t·∫°i qu·ªëc gia n√†o?",
        usage_area_placeholder: "V√≠ d·ª•: Nh·∫≠t B·∫£n, H√†n Qu·ªëc...",
        q_wifi_quality: "1. Ch·∫•t l∆∞·ª£ng WiFi nh∆∞ th·∫ø n√†o?",
        option_very_good: "R·∫•t t·ªët",
        option_good: "T·ªët",
        option_average: "Trung b√¨nh",
        option_poor: "K√©m",
        q_price: "2. B·∫°n ƒë√°nh gi√° th·∫ø n√†o v·ªÅ gi√° s·∫£n ph·∫©m?",
        option_very_reasonable: "R·∫•t h·ª£p l√Ω",
        option_reasonable: "H·ª£p l√Ω",
        option_a_bit_high: "H∆°i cao",
        option_high: "Cao",
        q_service_vs_price: "3. Ch·∫•t l∆∞·ª£ng ph·ª•c v·ª• so v·ªõi gi√° c·∫£?",
        option_exceeds: "V∆∞·ª£t mong ƒë·ª£i",
        option_matches: "T∆∞∆°ng x·ª©ng",
        option_not_match: "Ch∆∞a t∆∞∆°ng x·ª©ng",
        q_delivery: "4. Nh·∫≠n/tr·∫£ thi·∫øt b·ªã c√≥ thu·∫≠n ti·ªán kh√¥ng?",
        option_very_convenient: "R·∫•t thu·∫≠n ti·ªán",
        option_normal: "B√¨nh th∆∞·ªùng",
        option_difficult: "Kh√≥ khƒÉn",
        q_tech_issue: "5. Qu√Ω kh√°ch c√≥ g·∫∑p s·ª± c·ªë k·ªπ thu·∫≠t kh√¥ng?",
        option_no: "Kh√¥ng",
        option_yes: "C√≥",
        tech_issue_prompt: "Vui l√≤ng cho bi·∫øt v·∫•n ƒë·ªÅ b·∫°n g·∫∑p ph·∫£i (c√≥ th·ªÉ ch·ªçn nhi·ªÅu):",
        issue_slow: "T·ªëc ƒë·ªô ch·∫≠m",
        issue_disconnect: "M·∫•t k·∫øt n·ªëi th∆∞·ªùng xuy√™n",
        issue_no_connect: "Kh√¥ng k·∫øt n·ªëi ƒë∆∞·ª£c ban ƒë·∫ßu",
        issue_no_power: "Thi·∫øt b·ªã kh√¥ng l√™n ngu·ªìn / S·∫°c kh√¥ng v√†o",
        issue_other: "Kh√°c (vui l√≤ng ghi r√µ):",
        issue_other_placeholder: "M√¥ t·∫£ s·ª± c·ªë kh√°c...",
        q_recommend: "6. Qu√Ω kh√°ch c√≥ gi·ªõi thi·ªáu d·ªãch v·ª• cho ng∆∞·ªùi kh√°c kh√¥ng?",
        option_recommend_yes: "Ch·∫Øc ch·∫Øn c√≥",
        option_recommend_maybe: "C√≥ th·ªÉ",
        option_recommend_no: "Kh√¥ng",
        q_overall_rating: "7. ƒê√°nh gi√° chung v·ªÅ d·ªãch v·ª• c·ªßa ch√∫ng t√¥i:",
        q_channel: "8. Qu√Ω kh√°ch bi·∫øt ƒë·∫øn d·ªãch v·ª• c·ªßa ch√∫ng t√¥i qua k√™nh n√†o?",
        option_channel_facebook: "Facebook",
        option_channel_google: "Google",
        option_channel_friends: "B·∫°n b√® gi·ªõi thi·ªáu",
        option_channel_other: "Kh√°c",
        q_comment: "9. G√≥p √Ω th√™m (n·∫øu c√≥):",
        comment_placeholder: "√ù ki·∫øn c·ªßa b·∫°n...",
        submit_button: "G·ª≠i ph·∫£n h·ªìi",
        footer_address: "ƒê·ªãa ch·ªâ",
        footer_hotline: "Hotline",
        lang_vi: "Ti·∫øng Vi·ªát",
        lang_ja: "Ti·∫øng Nh·∫≠t",
        status_sending: "‚è≥ ƒêang g·ª≠i ph·∫£n h·ªìi...",
        status_success: "üéâ C·∫£m ∆°n b·∫°n ƒë√£ g·ª≠i ph·∫£n h·ªìi! Vui l√≤ng ki·ªÉm tra email x√°c nh·∫≠n.",
        status_fail: "‚ùå G·ª≠i ph·∫£n h·ªìi th·∫•t b·∫°i. Vui l√≤ng th·ª≠ l·∫°i.",
        recaptcha_fail: "Vui l√≤ng ho√†n th√†nh x√°c minh reCAPTCHA.",
      },
      en: {
        title: "Satisfaction Survey",
        subtitle: "Thank you for using our WiFi rental service!",
        email_label: "Your Email",
        email_placeholder: "example@email.com",
        usage_area_label: "In which country did you use the service?",
        usage_area_placeholder: "E.g., Japan, South Korea...",
        q_wifi_quality: "1. How was the WiFi quality?",
        option_very_good: "Very Good",
        option_good: "Good",
        option_average: "Average",
        option_poor: "Poor",
        q_price: "2. How do you rate the product price?",
        option_very_reasonable: "Very Reasonable",
        option_reasonable: "Reasonable",
        option_a_bit_high: "A bit high",
        option_high: "High",
        q_service_vs_price: "3. Service quality compared to the price?",
        option_exceeds: "Exceeded expectations",
        option_matches: "Matches expectations",
        option_not_match: "Did not meet expectations",
        q_delivery: "4. Was the device pickup/return process convenient?",
        option_very_convenient: "Very Convenient",
        option_normal: "Normal",
        option_difficult: "Difficult",
        q_tech_issue: "5. Did you experience any technical issues?",
        option_no: "No",
        option_yes: "Yes",
        tech_issue_prompt: "Please specify the issue(s) you faced (multiple selections possible):",
        issue_slow: "Slow speed",
        issue_disconnect: "Frequent disconnection",
        issue_no_connect: "Couldn't connect initially",
        issue_no_power: "Device won't turn on / Not charging",
        issue_other: "Other (please specify):",
        issue_other_placeholder: "Describe the other issue...",
        q_recommend: "6. Would you recommend our service to others?",
        option_recommend_yes: "Definitely Yes",
        option_recommend_maybe: "Maybe",
        option_recommend_no: "No",
        q_overall_rating: "7. Your overall rating of our service:",
        q_channel: "8. How did you hear about our service?",
        option_channel_facebook: "Facebook",
        option_channel_google: "Google",
        option_channel_friends: "Friend referral",
        option_channel_other: "Other",
        q_comment: "9. Any additional comments?",
        comment_placeholder: "Your feedback...",
        submit_button: "Submit Feedback",
        footer_address: "Address",
        footer_hotline: "Hotline",
        lang_vi: "Vietnamese",
        lang_ja: "Japanese",
        status_sending: "‚è≥ Sending feedback...",
        status_success: "üéâ Thank you for your feedback! Please check your email for a confirmation.",
        status_fail: "‚ùå Failed to send feedback. Please try again.",
        recaptcha_fail: "Please complete the reCAPTCHA verification.",
      },
      ja: {
        title: "Ê∫ÄË∂≥Â∫¶„Ç¢„É≥„Ç±„Éº„Éà",
        subtitle: "WiFi„É¨„É≥„Çø„É´„Çµ„Éº„Éì„Çπ„Çí„ÅîÂà©Áî®„ÅÑ„Åü„Å†„Åç„ÄÅË™†„Å´„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ",
        email_label: "„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ",
        email_placeholder: "example@email.com",
        usage_area_label: "„Å©„Å°„Çâ„ÅÆÂõΩ„Åß„Çµ„Éº„Éì„Çπ„ÇíÂà©Áî®„Åó„Åæ„Åó„Åü„ÅãÔºü",
        usage_area_placeholder: "‰æãÔºöÊó•Êú¨„ÄÅÈüìÂõΩ„Å™„Å©",
        q_wifi_quality: "1. WiFi„ÅÆÂìÅË≥™„ÅØ„ÅÑ„Åã„Åå„Åß„Åó„Åü„ÅãÔºü",
        option_very_good: "ÈùûÂ∏∏„Å´ËâØ„ÅÑ",
        option_good: "ËâØ„ÅÑ",
        option_average: "ÊôÆÈÄö",
        option_poor: "ÊÇ™„ÅÑ",
        q_price: "2. Ë£ΩÂìÅ‰æ°Ê†º„Å´„Å§„ÅÑ„Å¶„Å©„ÅÜÊÄù„ÅÑ„Åæ„Åô„ÅãÔºü",
        option_very_reasonable: "ÈùûÂ∏∏„Å´ÊâãÈ†É",
        option_reasonable: "ÊâãÈ†É",
        option_a_bit_high: "Â∞ë„ÅóÈ´ò„ÅÑ",
        option_high: "È´ò„ÅÑ",
        q_service_vs_price: "3. ‰æ°Ê†º„Å´ÂØæ„Åô„Çã„Çµ„Éº„Éì„Çπ„ÅÆË≥™„ÅØÔºü",
        option_exceeds: "ÊúüÂæÖ‰ª•‰∏ä",
        option_matches: "ÊúüÂæÖÈÄö„Çä",
        option_not_match: "ÊúüÂæÖ‰ª•‰∏ã",
        q_delivery: "4. Á´ØÊú´„ÅÆÂèó„ÅëÂèñ„Çä„ÉªËøîÂç¥„ÅØ‰æøÂà©„Åß„Åó„Åü„ÅãÔºü",
        option_very_convenient: "ÈùûÂ∏∏„Å´‰æøÂà©",
        option_normal: "ÊôÆÈÄö",
        option_difficult: "‰∏ç‰æø",
        q_tech_issue: "5. ÊäÄË°ìÁöÑ„Å™ÂïèÈ°å„ÅØ„ÅÇ„Çä„Åæ„Åó„Åü„ÅãÔºü",
        option_no: "„ÅÑ„ÅÑ„Åà",
        option_yes: "„ÅØ„ÅÑ",
        tech_issue_prompt: "Áô∫Áîü„Åó„ÅüÂïèÈ°å„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºàË§áÊï∞ÈÅ∏ÊäûÂèØÔºâÔºö",
        issue_slow: "ÈÄüÂ∫¶„ÅåÈÅÖ„ÅÑ",
        issue_disconnect: "È†ªÁπÅ„Å´ÂàáÊñ≠„Åï„Çå„Çã",
        issue_no_connect: "ÊúÄÂàù„Å´Êé•Á∂ö„Åß„Åç„Å™„Åã„Å£„Åü",
        issue_no_power: "ÈõªÊ∫ê„ÅåÂÖ•„Çâ„Å™„ÅÑ„ÉªÂÖÖÈõª„Åß„Åç„Å™„ÅÑ",
        issue_other: "„Åù„ÅÆ‰ªñÔºàÂÖ∑‰ΩìÁöÑ„Å´„ÅîË®òÂÖ•„Åè„Å†„Åï„ÅÑÔºâÔºö",
        issue_other_placeholder: "„Åù„ÅÆ‰ªñ„ÅÆÂïèÈ°å„Å´„Å§„ÅÑ„Å¶Ë™¨Êòé„Åó„Å¶„Åè„Å†„Åï„ÅÑ...",
        q_recommend: "6. ÁßÅ„Åü„Å°„ÅÆ„Çµ„Éº„Éì„Çπ„Çí‰ªñ„ÅÆ‰∫∫„Å´Âãß„ÇÅ„Åæ„Åô„ÅãÔºü",
        option_recommend_yes: "„Åú„Å≤Âãß„ÇÅ„Åü„ÅÑ",
        option_recommend_maybe: "Â§öÂàÜ",
        option_recommend_no: "Âãß„ÇÅ„Å™„ÅÑ",
        q_overall_rating: "7. ÂΩìÁ§æ„Çµ„Éº„Éì„Çπ„ÅÆÁ∑èÂêàË©ï‰æ°Ôºö",
        q_channel: "8. „Å©„ÅÆ„Çà„ÅÜ„Åó„Å¶ÁßÅ„Åü„Å°„ÅÆ„Çµ„Éº„Éì„Çπ„ÇíÁü•„Çä„Åæ„Åó„Åü„ÅãÔºü",
        option_channel_facebook: "„Éï„Çß„Ç§„Çπ„Éñ„ÉÉ„ÇØ",
        option_channel_google: "„Ç∞„Éº„Ç∞„É´",
        option_channel_friends: "Âèã‰∫∫„Åã„Çâ„ÅÆÁ¥π‰ªã",
        option_channel_other: "„Åù„ÅÆ‰ªñ",
        q_comment: "9. „Åù„ÅÆ‰ªñ„ÅÆ„ÅîÊÑèË¶ã„Éª„ÅîÊÑüÊÉ≥:",
        comment_placeholder: "„ÅîÊÑèË¶ã„Çí„ÅäËÅû„Åã„Åõ„Åè„Å†„Åï„ÅÑ...",
        submit_button: "ÈÄÅ‰ø°„Åô„Çã",
        footer_address: "‰ΩèÊâÄ",
        footer_hotline: "„Éõ„ÉÉ„Éà„É©„Ç§„É≥",
        lang_vi: "„Éô„Éà„Éä„É†Ë™û",
        lang_ja: "Êó•Êú¨Ë™û",
        status_sending: "‚è≥ „Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ„ÇíÈÄÅ‰ø°‰∏≠...",
        status_success: "üéâ „ÅîÊÑèË¶ã„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅÁ¢∫Ë™ç„É°„Éº„É´„Çí„ÅîÁ¢∫Ë™ç„Åè„Å†„Åï„ÅÑ„ÄÇ",
        status_fail: "‚ùå ÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ",
        recaptcha_fail: "reCAPTCHAË™çË®º„ÇíÂÆå‰∫Ü„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
      }
    };

    // --- LANGUAGE SWITCHER LOGIC ---
    const setLanguage = (lang) => {
      document.documentElement.lang = lang;
      localStorage.setItem('language', lang);
      
      document.querySelectorAll('[data-lang-key]').forEach(el => {
        const key = el.getAttribute('data-lang-key');
        if (translations[lang][key]) {
          if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
            el.placeholder = translations[lang][key];
          } else {
            el.innerText = translations[lang][key];
          }
        }
      });

      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById(`lang-${lang}`).classList.add('active');
    };

    document.getElementById('lang-vi').addEventListener('click', () => setLanguage('vi'));
    document.getElementById('lang-en').addEventListener('click', () => setLanguage('en'));
    document.getElementById('lang-ja').addEventListener('click', () => setLanguage('ja'));
    
    const savedLang = localStorage.getItem('language') || 'vi';
    setLanguage(savedLang);


    // --- FORM LOGIC ---
    const form = document.getElementById("feedbackForm");
    const status = document.getElementById("status");
    const submitButton = document.getElementById("submitButton");

    const technicalIssueRadios = document.querySelectorAll('input[name="technical_issue"]');
    const technicalIssuesDetails = document.getElementById('technicalIssuesDetails');
    technicalIssueRadios.forEach(radio => {
      radio.addEventListener('change', function() {
        if (this.value === 'C√≥') {
          technicalIssuesDetails.classList.remove('hidden');
        } else {
          technicalIssuesDetails.classList.add('hidden');
        }
      });
    });
    
    const otherIssueText = document.querySelector('textarea[name="issue_detail_other"]');
    const otherIssueCheckbox = document.getElementById('other_issue_checkbox');
    otherIssueText.addEventListener('input', function() {
        if(this.value.trim() !== '') { otherIssueCheckbox.checked = true; }
    });


    form.addEventListener("submit", function(e) {
      e.preventDefault();
      const lang = localStorage.getItem('language') || 'vi';
      
      const recaptchaResponse = grecaptcha.getResponse();
      if (recaptchaResponse.length === 0) {
        status.innerText = translations[lang].recaptcha_fail;
        status.className = "text-center font-medium h-6 text-red-600";
        return;
      }
      
      status.innerText = translations[lang].status_sending;
      status.className = "text-center font-medium h-6 text-blue-600";
      submitButton.disabled = true;

      const formData = new FormData(form);
      const data = {};
      
      formData.forEach((value, key) => { data[key] = value; });
      
      const issueDetails = [];
      document.querySelectorAll('input[name="issue_detail"]:checked').forEach(checkbox => {
        issueDetails.push(checkbox.value);
      });
      const otherDetail = formData.get('issue_detail_other');
      if (otherDetail && otherDetail.trim() !== '' && otherIssueCheckbox.checked) {
        issueDetails.push(`Kh√°c: ${otherDetail.trim()}`);
      }
      data['technical_issue_details'] = issueDetails.join('; ');
      data['language'] = lang;
      data['g-recaptcha-response'] = recaptchaResponse;

      // *** IMPORTANT: REPLACE WITH YOUR GOOGLE APPS SCRIPT URL ***
      const url = "https://script.google.com/macros/s/AKfycbylHCes-0UOFDJ6ZOu7-qYCE_5szKSNQ3AxaZXzpC2n7ghX5Y5sAXQjwI23PjKWBSw/exec";

      fetch(url, {
        method: "POST",
        body: JSON.stringify(data),
        headers: { "Content-Type": "application/json" },
      })
      .then(response => response.json())
      .then(res => {
        if (res.result === 'success') {
          form.reset();
          technicalIssuesDetails.classList.add('hidden');
          status.innerText = translations[lang].status_success;
          status.className = "text-center font-medium h-6 text-green-600";
          document.querySelectorAll('.star-rating input[type="radio"]').forEach(radio => radio.checked = false);
          setLanguage(lang);
        } else {
          throw new Error(res.message || 'Unknown error occurred.');
        }
      })
      .catch(err => {
          status.innerText = translations[lang].status_fail;
          status.className = "text-center font-medium h-6 text-red-600";
          console.error(err);
      })
      .finally(() => {
          grecaptcha.reset();
          submitButton.disabled = false;
      });
    });
  </script>
</body>
</html>
